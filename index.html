<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Investment Tracker (Offline)</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { min-height: 100vh; }
</style>
</head>
<body class="bg-gradient-to-br from-gray-900 to-gray-800 text-white p-4">

<div class="max-w-xl mx-auto">
  <h1 class="text-2xl font-bold mb-4 text-center">Investment Tracker</h1>

  <!-- Login -->
  <div id="loginDiv" class="mb-4">
    <input id="loginEmail" type="email" placeholder="Email" class="p-2 rounded text-black w-full mb-2">
    <input id="loginPass" type="password" placeholder="Password" class="p-2 rounded text-black w-full mb-2">
    <button onclick="login()" class="bg-blue-600 px-4 py-2 rounded w-full mb-2 hover:bg-blue-700">Login Admin</button>
  </div>

  <button onclick="logout()" class="bg-gray-600 px-4 py-2 rounded w-full mb-4 hover:bg-gray-700">Logout</button>
  <button onclick="addCategory()" class="bg-blue-500 px-3 py-1 rounded mb-4 w-full hover:bg-blue-600">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</button>

  <div id="categoriesContainer" class="space-y-4"></div>
</div>

<script>
  // üîπ Admin Login Hardcode
  const ADMIN_EMAIL = "admin@example.com";
  const ADMIN_PASS = "123456";
  let isAdmin = false;

  function login() {
    const email = document.getElementById("loginEmail").value;
    const pass = document.getElementById("loginPass").value;
    if(email === ADMIN_EMAIL && pass === ADMIN_PASS){
      alert("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö Admin ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
      isAdmin = true;
      document.getElementById("loginDiv").style.display="none";
      renderCategories();
    } else {
      alert("Email ‡∏´‡∏£‡∏∑‡∏≠ Password ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    }
  }

  function logout(){
    isAdmin = false;
    document.getElementById("loginDiv").style.display="block";
    renderCategories();
  }

  // üîπ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà + ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
  let categories = [
    { name:"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î 1", items:[
        { name:"Item A", cost:500, price:10, qty:10 },
        { name:"Item B", cost:200, price:20, qty:5 }
      ] },
    { name:"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î 2", items:[
        { name:"Item C", cost:100, price:15, qty:8 }
      ] }
  ];

  function renderCategories(){
    const container = document.getElementById("categoriesContainer");
    container.innerHTML="";
    categories.forEach((cat,catIdx)=>{
      const catDiv = document.createElement("div");
      catDiv.className="bg-gray-800/50 rounded-xl p-3 mb-4";
      let html = `<h2 class="font-bold text-lg mb-2">${cat.name}</h2>`;
      html += `<div class="space-y-2">`;
      cat.items.forEach((item,itemIdx)=>{
        const profitPer = item.price - (item.cost/item.qty);
        const totalProfit = profitPer * item.qty;
        html += `<div class="bg-gray-700/50 rounded-xl p-2 grid grid-cols-6 gap-2 items-center">
          <div>${item.name}</div>
          <div>${item.cost}</div>
          <div>${item.price}</div>
          <div>${item.qty}</div>
          <div>${profitPer.toFixed(2)}</div>
          <div>${totalProfit.toFixed(2)}</div>`;
        if(isAdmin){
          html += `<button class="bg-yellow-500 px-2 rounded" onclick="editItem(${catIdx},${itemIdx})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                   <button class="bg-red-600 px-2 rounded" onclick="deleteItem(${catIdx},${itemIdx})">‡∏•‡∏ö</button>`;
        }
        html += `</div>`;
      });
      html += `</div>`;
      if(isAdmin){
        html += `<button class="bg-green-600 px-3 py-1 rounded mt-2 hover:bg-green-700" onclick="addItem(${catIdx})">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>`;
      }
      catDiv.innerHTML = html;
      container.appendChild(catDiv);
    });
  }

  function addCategory(){
    if(!isAdmin) return alert("‡∏ï‡πâ‡∏≠‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô Admin");
    const name = prompt("‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà?");
    if(name) categories.push({name,items:[]});
    renderCategories();
  }

  function addItem(catIdx){
    const name = prompt("‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£?");
    const cost = parseFloat(prompt("‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°?","500"))||0;
    const price = parseFloat(prompt("‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ä‡∏¥‡πâ‡∏ô?","10"))||0;
    const qty = parseInt(prompt("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô?","10"))||1;
    categories[catIdx].items.push({name,cost,price,qty});
    renderCategories();
  }

  function editItem(catIdx,itemIdx){
    const item = categories[catIdx].items[itemIdx];
    item.name = prompt("‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£?",item.name)||item.name;
    item.cost = parseFloat(prompt("‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°?",item.cost))||item.cost;
    item.price = parseFloat(prompt("‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ä‡∏¥‡πâ‡∏ô?",item.price))||item.price;
    item.qty = parseInt(prompt("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô?",item.qty))||item.qty;
    renderCategories();
  }

  function deleteItem(catIdx,itemIdx){
    if(confirm("‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£?")) categories[catIdx].items.splice(itemIdx,1);
    renderCategories();
  }

  // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô render
  renderCategories();
</script>

</body>
</html>
