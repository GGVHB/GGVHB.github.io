<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roblox Item Profit Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-6 text-slate-100">
  <div class="max-w-5xl mx-auto bg-white/5 rounded-2xl p-6 shadow-2xl backdrop-blur">
    <header class="flex items-center justify-between">
      <div>
        <h1 class="text-2xl font-bold">Roblox Item Profit Calculator</h1>
        <p class="text-sm text-slate-300 mt-1">เลือกตัวจากแมพ "Steal a Brainrot" แล้วตั้งราคาต้นทุน/ราคาขาย ดูกำไรและ ROI อัตโนมัติ</p>
      </div>
    </header>

    <main class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6">

      <!-- ฝั่งซื้อ -->
      <section class="bg-white/3 rounded-xl p-4">
        <h2 class="font-semibold text-lg">ตัวละคร (ฝั่งซื้อ)</h2>
        <div id="buyCharList" class="mt-3 grid grid-cols-3 sm:grid-cols-6 gap-3"></div>

        <div class="mt-4">
          <label class="flex flex-col">
            <span class="text-sm text-slate-300">ชื่อที่เลือก (ซื้อ)</span>
            <input id="buyName" type="text" class="mt-1 rounded-lg p-2 bg-white/5 outline-none">
          </label>

          <label class="flex flex-col mt-2">
            <span class="text-sm text-slate-300">ราคาต้นทุน</span>
            <input id="buyPrice" type="number" value="0" class="mt-1 rounded-lg p-2 bg-white/5 outline-none">
          </label>
        </div>
      </section>

      <!-- ฝั่งขาย -->
      <section class="bg-white/3 rounded-xl p-4">
        <h2 class="font-semibold text-lg">ตัวละคร (ฝั่งขาย)</h2>
        <div id="sellCharList" class="mt-3 grid grid-cols-3 sm:grid-cols-6 gap-3"></div>

        <div class="mt-4">
          <label class="flex flex-col">
            <span class="text-sm text-slate-300">ชื่อที่เลือก (ขาย)</span>
            <input id="sellName" type="text" class="mt-1 rounded-lg p-2 bg-white/5 outline-none">
          </label>

          <label class="flex flex-col mt-2">
            <span class="text-sm text-slate-300">ราคาขาย</span>
            <input id="sellPrice" type="number" value="0" class="mt-1 rounded-lg p-2 bg-white/5 outline-none">
          </label>

          <label class="flex flex-col mt-2">
            <span class="text-sm text-slate-300">จำนวน</span>
            <input id="sellQty" type="number" value="1" class="mt-1 rounded-lg p-2 bg-white/5 outline-none">
          </label>
        </div>

        <div class="mt-4 bg-white/5 p-3 rounded-xl text-sm grid grid-cols-2 gap-2">
          <div class="text-slate-300">ต้นทุนรวม</div><div id="totalCost" class="text-right font-medium">0</div>
          <div class="text-slate-300">ยอดขายรวม</div><div id="totalRevenue" class="text-right font-medium">0</div>
          <div class="text-slate-300">กำไรต่อชิ้น</div><div id="profitPer" class="text-right font-medium">0</div>
          <div class="text-slate-300">กำไรรวม</div><div id="totalProfit" class="text-right font-bold">0</div>
          <div class="text-slate-300">ROI</div><div id="roi" class="text-right font-medium">0%</div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // ตัวละครตัวอย่าง (แค่ชื่อและ URL รูปจริง placeholder)
    const characters = [
      {name:"Noobini Pizzanini", rarity:"Common", img:"https://placehold.co/100x100?text=Noobini"},
      {name:"Lirili Larila", rarity:"Common", img:"https://placehold.co/100x100?text=Lirili"},
      {name:"Tim Cheese", rarity:"Common", img:"https://placehold.co/100x100?text=Tim"},
      {name:"Flurifura", rarity:"Common", img:"https://placehold.co/100x100?text=Flurifura"},
      {name:"Talpa Di Fero", rarity:"Rare", img:"https://placehold.co/100x100?text=Talpa"},
      {name:"Gangster Footera", rarity:"Rare", img:"https://placehold.co/100x100?text=Gangster"},
      {name:"Brainrot God", rarity:"Epic", img:"https://placehold.co/100x100?text=BrainrotGod"}
    ];

    const buyCharList = document.getElementById("buyCharList");
    const sellCharList = document.getElementById("sellCharList");

    const buyName = document.getElementById("buyName");
    const buyPrice = document.getElementById("buyPrice");

    const sellName = document.getElementById("sellName");
    const sellPrice = document.getElementById("sellPrice");
    const sellQty = document.getElementById("sellQty");

    const totalCostEl = document.getElementById("totalCost");
    const totalRevenueEl = document.getElementById("totalRevenue");
    const profitPerEl = document.getElementById("profitPer");
    const totalProfitEl = document.getElementById("totalProfit");
    const roiEl = document.getElementById("roi");

    function renderCharacters(){
      buyCharList.innerHTML = "";
      sellCharList.innerHTML = "";

      characters.forEach(c=>{
        const buyBtn = document.createElement("button");
        buyBtn.className = "flex flex-col items-center p-2 rounded-lg border-2 bg-white/3 hover:scale-105 transition";
        buyBtn.innerHTML = `<img src="${c.img}" class="w-16 h-16 rounded-md"><div class='text-xs mt-1 text-center'>${c.name}</div>`;
        buyBtn.onclick = ()=>{ buyName.value = c.name; };
        buyCharList.appendChild(buyBtn);

        const sellBtn = document.createElement("button");
        sellBtn.className = "flex flex-col items-center p-2 rounded-lg border-2 bg-white/3 hover:scale-105 transition";
        sellBtn.innerHTML = `<img src="${c.img}" class="w-16 h-16 rounded-md"><div class='text-xs mt-1 text-center'>${c.name}</div>`;
        sellBtn.onclick = ()=>{ sellName.value = c.name; updateSummary(); };
        sellCharList.appendChild(sellBtn);
      });
    }

    function updateSummary(){
      const cost = Number(buyPrice.value);
      const price = Number(sellPrice.value);
      const qty = Number(sellQty.value);

      const profitPer = price - cost;
      const totalProfit = profitPer * qty;
      const totalCost = cost * qty;
      const totalRevenue = price * qty;
      const roi = totalCost > 0 ? (totalProfit/totalCost)*100 : 0;

      totalCostEl.textContent = totalCost.toLocaleString();
      totalRevenueEl.textContent = totalRevenue.toLocaleString();
      profitPerEl.textContent = profitPer.toLocaleString();
      totalProfitEl.textContent = totalProfit.toLocaleString();
      roiEl.textContent = roi.toFixed(2) + "%";
    }

    [buyPrice,sellPrice,sellQty].forEach(input=>input.addEventListener("input",updateSummary));

    renderCharacters();
    updateSummary();
  </script>
</body>
</html>
